{{ define "main" }}
<article class="max-w-5xl mx-auto px-4 md:px-6 py-6 md:py-12">
  <!-- メインビジュアル -->
  {{ if .Params.image }}
  <div class="mb-8 rounded-xl overflow-hidden shadow-lg">
    <img src="{{ .Params.image }}" alt="{{ .Title }}" class="w-full h-auto object-cover">
  </div>
  {{ end }}

  <!-- ヘッダー -->
  <header class="mb-8">
    <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4">
      {{ .Title }}
    </h1>
    <div class="flex flex-wrap items-center gap-4 text-sm text-gray-500 dark:text-white mb-4">
      <span>{{ .Date.Format "2006-01-02" }}</span>
      {{ with .Params.categories }}
        <span class="px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full text-xs font-medium">
          {{ index . 0 | upper }}
        </span>
      {{ end }}
      {{ with .Params.author }}
        <span>{{ . }}</span>
      {{ end }}
    </div>
    {{ with .Params.summary }}
      <p class="text-lg text-gray-700 dark:text-white leading-relaxed">
        {{ . }}
      </p>
    {{ end }}
  </header>

  {{ if .Params.toc }}
  <nav class="bg-white dark:bg-black border border-gray-200 dark:border-white rounded-xl p-6 mb-8 shadow-md">
    <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">目次</h2>
    <div class="prose prose-sm dark:prose-invert">
      {{ .TableOfContents }}
    </div>
  </nav>
  {{ end }}

  <!-- 本文 -->
  <div class="prose prose-lg dark:prose-invert max-w-none text-gray-800 dark:text-gray-200 leading-relaxed">
    {{ .Content }}
  </div>
</article>
{{ end }}
